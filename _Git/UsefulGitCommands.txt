# Sync forked repo

git fetch upstream
git checkout master
git merge upstream/master

# Revert un-pushed commit

git reset --hard HEAD~1

# Remove merged old N branhes 

git branch -r --merged master --sort=committerdate | grep -v master | sed 's/origin\///' | fmt -1 | head -n -100 | xargs -n 1 git push --delete origin


# Remove local branches without remote

git checkout master

git fetch -p 

git branch -vv | awk '/: gone]/{print $1}' | xargs git branch -D


# Test

git branch --all --merged remotes/origin/master | grep --invert-match master | grep --invert-match webrtc | grep --invert-match release | grep --invert-match HEAD | grep "remotes/origin/" | cut -d "/" -f 3- | xargs -n 1 git push --delete origin^C

git branch -v | grep -E 'ahead|behind' | sed -r 's/[ *]\s(\S*).*(\[(ahead|behind).+?\]).*/\1 \2/g'

git branch -v | grep -E 'ahead|behind' --invert-match | grep --invert-match master | cut -d "/" -f 3-
